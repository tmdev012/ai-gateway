<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <linearGradient id="gw1" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#1565c0"/><stop offset="100%" style="stop-color:#42a5f5"/></linearGradient>
    <linearGradient id="gw2" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#2e7d32"/><stop offset="100%" style="stop-color:#66bb6a"/></linearGradient>
    <linearGradient id="gw3" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#e65100"/><stop offset="100%" style="stop-color:#ff9800"/></linearGradient>
    <filter id="s"><feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/></filter>
    <marker id="arr" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,10 3.5,0 7" fill="#555"/></marker>
  </defs>
  <style>
    @keyframes flow{0%{stroke-dashoffset:20}100%{stroke-dashoffset:0}}
    @keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}
    @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
    .flow-line{stroke-dasharray:10 10;animation:flow 1s linear infinite}
    .s1{animation:fadeIn 0.5s ease 0.1s both}.s2{animation:fadeIn 0.5s ease 0.3s both}
    .s3{animation:fadeIn 0.5s ease 0.5s both}.s4{animation:fadeIn 0.5s ease 0.7s both}
    .s5{animation:fadeIn 0.5s ease 0.9s both}.active{animation:pulse 2s ease infinite}
  </style>
  <text x="450" y="30" text-anchor="middle" font-family="Arial" font-size="20" font-weight="bold" fill="#333">AI Gateway — Multi-Provider Concurrent Routing</text>
  <!-- Client -->
  <g class="s1"><rect x="30" y="200" width="120" height="60" rx="10" fill="url(#gw1)" filter="url(#s)"/><text x="90" y="235" text-anchor="middle" font-family="Arial" font-size="14" fill="white" font-weight="bold">Client</text></g>
  <!-- Gateway -->
  <g class="s2"><rect x="230" y="170" width="160" height="120" rx="10" fill="#fff3e0" stroke="#ff9800" stroke-width="2" filter="url(#s)"/><text x="310" y="210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#e65100">API Gateway</text><text x="310" y="230" text-anchor="middle" font-family="Arial" font-size="11" fill="#666">Route + Fallback</text><text x="310" y="250" text-anchor="middle" font-family="Arial" font-size="11" fill="#666">Rate Limit + Cache</text><text x="310" y="270" text-anchor="middle" font-family="Arial" font-size="11" fill="#666">Cost Tracking</text></g>
  <!-- Providers -->
  <g class="s3"><rect x="490" y="60" width="150" height="50" rx="8" fill="url(#gw2)" filter="url(#s)"/><text x="565" y="90" text-anchor="middle" font-family="Arial" font-size="13" fill="white" font-weight="bold">Ollama (Local)</text></g>
  <g class="s4"><rect x="490" y="140" width="150" height="50" rx="8" fill="url(#gw3)" filter="url(#s)"/><text x="565" y="170" text-anchor="middle" font-family="Arial" font-size="13" fill="white" font-weight="bold">OpenRouter</text></g>
  <g class="s4"><rect x="490" y="220" width="150" height="50" rx="8" fill="#7b1fa2" filter="url(#s)"/><text x="565" y="250" text-anchor="middle" font-family="Arial" font-size="13" fill="white" font-weight="bold">Anthropic</text></g>
  <g class="s5"><rect x="490" y="300" width="150" height="50" rx="8" fill="#1565c0" filter="url(#s)"/><text x="565" y="330" text-anchor="middle" font-family="Arial" font-size="13" fill="white" font-weight="bold">OpenAI</text></g>
  <!-- Cache -->
  <g class="s5"><rect x="700" y="190" width="120" height="80" rx="10" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" filter="url(#s)"/><text x="760" y="225" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold" fill="#2e7d32">Redis</text><text x="760" y="245" text-anchor="middle" font-family="Arial" font-size="11" fill="#666">Response Cache</text></g>
  <!-- Flow lines -->
  <line x1="150" y1="230" x2="225" y2="230" stroke="#1565c0" stroke-width="2" class="flow-line" marker-end="url(#arr)"/>
  <line x1="390" y1="200" x2="485" y2="85" stroke="#2e7d32" stroke-width="2" class="flow-line" marker-end="url(#arr)"/>
  <line x1="390" y1="215" x2="485" y2="165" stroke="#e65100" stroke-width="2" class="flow-line" marker-end="url(#arr)"/>
  <line x1="390" y1="240" x2="485" y2="245" stroke="#7b1fa2" stroke-width="2" class="flow-line" marker-end="url(#arr)"/>
  <line x1="390" y1="260" x2="485" y2="325" stroke="#1565c0" stroke-width="2" class="flow-line" marker-end="url(#arr)"/>
  <line x1="645" y1="165" x2="695" y2="210" stroke="#4caf50" stroke-width="1.5" class="flow-line" marker-end="url(#arr)"/>
  <!-- Concurrency indicator -->
  <g class="active"><rect x="250" y="310" width="120" height="35" rx="17" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/><text x="310" y="332" text-anchor="middle" font-family="Arial" font-size="11" fill="#1565c0">4 concurrent</text></g>
  <!-- Fallback arrows -->
  <text x="565" y="125" text-anchor="middle" font-family="Arial" font-size="10" fill="#999">fallback ↓</text>
  <text x="565" y="205" text-anchor="middle" font-family="Arial" font-size="10" fill="#999">fallback ↓</text>
  <text x="565" y="285" text-anchor="middle" font-family="Arial" font-size="10" fill="#999">fallback ↓</text>
  <!-- Stats -->
  <g class="s5"><rect x="30" y="400" width="840" height="60" rx="8" fill="#f5f5f5" stroke="#ddd"/><text x="130" y="430" text-anchor="middle" font-family="monospace" font-size="12" fill="#333">Latency: 120ms p50</text><text x="350" y="430" text-anchor="middle" font-family="monospace" font-size="12" fill="#333">Cache Hit: 67%</text><text x="550" y="430" text-anchor="middle" font-family="monospace" font-size="12" fill="#333">Cost: R0.002/query</text><text x="750" y="430" text-anchor="middle" font-family="monospace" font-size="12" fill="#333">Uptime: 99.9%</text></g>
</svg>
